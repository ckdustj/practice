<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

    <button>보내기</button>

</body>
</html>
<script>
    const btn = document.querySelector('button');
    const div = document.querySelector('div');

    btn.onclick = () => {
        fetch("/message")
            // 첫 then은 서버가 응답한 상태를 나타낸다
            // 다음 then으로 가기 위해서는 무조건 return을 해야 한다.
            // return 은 거의 두 가지 종류이다.
            // 1. response.text() => 서버가 준 data는 단순 text입니다. 문자열로 변환해주세요.
            // 2. response.json() => 서버가 준 data는 json입니다. javascript 객체로 변환해주세요.
            // 변환한 것을 다음 then의 value로 설정해주세요.
            .then(response => { return response.text() })
            .then(value => {
                // 화면에 없던것을 새로 만드는 방법
                // 1. document.createElement 구문 사용
                // const div =  document.createElement('div') // 태그 이름
                // div.textContent = value; // div 내용을 value로 바꿉니다

                // document.body.appendChild(div); // body의 마지막 자식으로 넣어줘야 함
                // 2. insertAdjacentHTML 구문 사용: HTML을 적으면 거기에 넣어줄게!
                // 위치 / HTML 두 개 작성!
                document.body.insertAdjacentHTML(`beforeend` , `<div>${value}</div>`)

            }) // 서버가 준 데이터를 나타낸다
    }


</script>